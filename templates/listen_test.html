<!DOCTYPE html>
<html>
<head>
    <title>å¬åŠ›æµ‹è¯•</title>
    <style>
        /* åœ¨è¿™é‡Œæ·»åŠ ä»»ä½•å¿…è¦çš„ CSS æ ·å¼ */
    </style>
</head>
<body>
    <h1>å¬åŠ›æµ‹è¯•</h1>

    <p>è¯·å¬ä»¥ä¸‹å•è¯çš„å‘éŸ³å¹¶é€‰æ‹©æ­£ç¡®çš„è‹±æ–‡å•è¯:</p>

    <!-- å•è¯ä¸­æ–‡å«ä¹‰æç¤º -->
    <p>æç¤º: {{ word_cn }}</p>

    <!-- æ’­æ”¾å‘éŸ³çš„æŒ‰é’® -->
    <button onclick="speak('{{ word_en }}')">æ’­æ”¾å‘éŸ³</button>

    <!-- èµæ‰¬ä¿¡æ¯ï¼Œä¸€å¼€å§‹éšè— -->
    <p id="praiseMessage" style="display:none;">å¤ªæ£’äº†! ğŸ‘</p>
    
    <!-- é€‰æ‹©é¢˜è¡¨å• -->
    <form id="choiceForm" method="post">
        <!-- éšè—å­—æ®µç”¨äºå­˜å‚¨è‹±æ–‡å•è¯ -->
        <input type="hidden" name="word_en" value="{{ word_en }}">

        {% for label, choice in choices.items() %}
            <div>
                <input type="radio" id="choice{{ label }}" name="word_choice" value="{{ choice }}">
                <label for="choice{{ label }}">{{ choice }}</label>
            </div>
        {% endfor %}
        <button type="button" onclick="checkAnswer()">æäº¤ç­”æ¡ˆ</button>
    </form>

    <!-- è¿›å…¥ä¸‹ä¸€ä¸ªé—®é¢˜çš„æŒ‰é’®ï¼Œä¸€å¼€å§‹éšè— -->
    <button id="nextQuestionButton" style="display:none;" onclick="nextQuestion()">ä¸‹ä¸€ä¸ªå•è¯</button>

    <script>
        function speak(text) {
            var synth = window.speechSynthesis;
            var utterance = new SpeechSynthesisUtterance(text);
            synth.speak(utterance);
        }

        function checkAnswer() {
            var userChoice = document.querySelector('input[name="word_choice"]:checked').value;
            var correctAnswer = document.querySelector('input[name="word_en"]').value;
            var praiseMessage = document.getElementById('praiseMessage');
            var nextQuestionButton = document.getElementById('nextQuestionButton');

            if (userChoice === correctAnswer) {
                praiseMessage.style.display = 'block';
                nextQuestionButton.style.display = 'block'; // æ˜¾ç¤ºè¿›å…¥ä¸‹ä¸€ä¸ªé—®é¢˜çš„æŒ‰é’®
            } else {
                praiseMessage.style.display = 'none';
                nextQuestionButton.style.display = 'none';
                // å¦‚æœéœ€è¦ï¼Œå¯ä»¥åœ¨è¿™é‡Œå¤„ç†é”™è¯¯ç­”æ¡ˆçš„æƒ…å†µ
            }
        }

        function nextQuestion() {
            // æäº¤è¡¨å•ä»¥è¿›å…¥ä¸‹ä¸€ä¸ªé—®é¢˜
            document.getElementById('choiceForm').submit();
        }
    </script>
</body>
</html>
